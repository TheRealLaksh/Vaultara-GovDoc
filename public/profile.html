<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile | Vaultara</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-layout">
        <aside class="sidebar">
            <div><div style="font-size: 1.25rem; font-weight: 800; margin-bottom: 40px;">üîê Vaultara</div>
            <a href="dashboard.html" class="btn-tab">Back to Dashboard</a></div>
        </aside>

        <main class="main-content">
            <h1 style="margin-bottom: 24px;">Citizen Profile</h1>
            
            <div class="ui-card anim-stagger-1" style="max-width: 600px;">
                <div style="display:flex; align-items:center; gap: 16px; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 1px solid var(--gov-silver);">
                    <div style="background: var(--gov-navy); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üë§</div>
                    <div>
                        <h3 id="profilePhone" style="font-size: 1.25rem;">Loading...</h3>
                        <span id="verifyBadge" class="status-badge" style="background: #fef3c7; color: #b45309; margin-top: 4px;">Unverified</span>
                    </div>
                </div>
                
                <form id="profileForm">
                    <div class="form-group">
                        <label>Full Legal Name</label>
                        <input type="text" id="fullName" placeholder="Enter your name" required>
                    </div>

                    <div class="form-group">
                        <label>Family ID (Link Accounts)</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="familyId" placeholder="Enter Code to Join Family" 
                                   style="font-family: monospace; letter-spacing: 0.1em; font-weight: 700; color: var(--gov-navy); background: #f8fafc; text-transform: uppercase;" 
                                   maxlength="10">
                            <button type="button" onclick="generateRandomId()" class="btn-tab" style="white-space: nowrap; border: 1px solid var(--gov-silver);">
                                Generate New
                            </button>
                        </div>
                        <p style="font-size: 0.75rem; color: var(--gov-slate); margin-top: 6px;">
                            <strong>To Link:</strong> Enter the same Family ID as your family members. <br>
                            <strong>To Create:</strong> Click "Generate New" and share the code.
                        </p>
                    </div>

                    <button type="submit" class="btn-primary-reveal">
                        <span class="btn-text-initial">Update Profile</span>
                        <div class="btn-bg-reveal"></div>
                        <div class="btn-text-reveal">
                            <span>Save Changes</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                        </div>
                    </button>
                </form>
            </div>
        </main>
        
        <nav class="mobile-nav">
             <a href="dashboard.html" class="btn-tab">Back</a>
        </nav>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/logger.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>